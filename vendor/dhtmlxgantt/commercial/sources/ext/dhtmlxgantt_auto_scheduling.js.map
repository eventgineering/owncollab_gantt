{"version":3,"file":"dhtmlxgantt_auto_scheduling.js","sources":["dhtmlxgantt_auto_scheduling.js"],"names":["gantt","config","auto_scheduling","auto_scheduling_descendant_links","auto_scheduling_initial","auto_scheduling_strict","oldDefaultTaskDate","_default_task_date","item","parent_id","startDate","apply","arguments","$target","$source","date","_getTaskMinimalStartDate","_firstSmaller","getClosestWorkTime","dir","_datesNotEqual","dateA","dateB","valueOf","this","_hasDuration","small","big","_firstBigger","_notEqualTaskDates","task1","task2","start_date","end_date","duration","type","types","milestone","_autoScheduleHandler","taskId","mode","task","_autoscheduling_in_progress","newTask","getTask","autoSchedule","id","_linkChangeAutoScheduleHandler","linkId","link","source","_autoScheduleOnLoadHandler","_checkCircularDependency","element","checkLink","usedElements","currentRefEl","i","length","currentLink","getLink","_get_link_target","children","getChildren","refElement","_checkParents","tasks","root_id","parent","getParent","_linkValidationHandler","result","isChildOf","target","callEvent","_lightBoxChangesHandler","oldTask","_autoschedule_lightbox_id","_lightBoxSaveHandler","attachEvent","upTasks","_autoScheduleByTask","_updateTasks","tasksList","push","updatedTasksList","_autoScheduleLinkedTasks","_autoScheduleParents","updatedTasks","currentParent","strictStart","undefined","newStart","parentTask","parentStart","_getProjectMinimalStartDate","needAutoschedule","_isTask","source_task","_updateTaskPosition","taskChildren","isStrictParent","referencedTask","taskParent","calculateEndDate","batchUpdate","updateTask","_calculateMinDate","predecessor","relation","new_start","links","finish_to_start","start_to_start","start_to_finish","finish_to_finish","lag","_get_link_source","ownDates","predecessorDates","_isProject","getSubtaskDates","calculateDuration","Date","_mustMove","project","projectParent","parentMinDate","bigParent","_isStrictParent","elementId"],"mappings":"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"}